<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Dominion Kingdom Generator</title>
    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.16/angular.min.js"></script>
    <script src="http://knockoutjs.com/downloads/knockout-3.3.0.js"></script>
    <srcipt src="../../bootstrap-3.3.5-dist/js/bootstrap.js"></srcipt>
    <link rel="stylesheet" type="text/css" href="../styles.css">
    <link rel="stylesheet" type="text/css" href="../../bootstrap-3.3.5-dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../../bootstrap-3.3.5-dist/css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="../styles/junkstyles.css">
  </head>
  <body>
    <div style="width:20%;" class="container">
      <div>
        <input type="checkbox" id="toggle">
        <label for="toggle">Toggle All</label>
      </div>
      <div>
        <input type="checkbox" name="set" id="base">
        <label for="base">Base</label>
      </div>
      <div>
        <input type="checkbox" name="set" id="intrigue">
        <label for="intrigue">Intrigue</label>
      </div>
      <div>
        <input type="checkbox" name="set" id="seaside">
        <label for="seaside">Seaside</label>
      </div>
      <div>
        <input type="checkbox" name="set" id="alchemy">
        <label for="alchemy">Alchemy</label>
      </div>
      <div>
        <input type="checkbox" name="set" id="prosperity">
        <label for="prosperity">Prosperity</label>
      </div>
      <div>
        <input type="checkbox" name="set" id="cornucopia">
        <label for="cornucopia">Cornucopia</label>
      </div>
      <div>
        <input type="checkbox" name="set" id="hinterlands">
        <label for="hinterlands">Hinterlands</label>
      </div>
      <div>
        <input type="checkbox" name="set" id="darkages">
        <label for="darkages">Dark Ages</label>
      </div>
      <div>
        <input type="checkbox" name="set" id="guilds">
        <label for="guilds">Guilds</label>
      </div>
      <div>
        <input type="checkbox" name="set" id="promotional">
        <label for="promotional">Promotional</label>
      </div>
      <div>
        <input type="checkbox" name="set" id="adventures">
        <label for="adventures">Adventures</label>
      </div>
    </div>
    <div style="width:40%;" class="container">
      <div>
        <div>
          <input type="checkbox" id="CBvillage">
          <label for="CBvillage">must have village</label>
        </div>
        <div style="">
          <input type="checkbox" id="CBbuy">
          <label for="CBbuy">must have +buy</label>
        </div>
      </div>
      <div>
        <div>
          <input type="checkbox" id="CBmoat">
          <label for="CBmoat">must have moat with attacks</label>
        </div>
      </div>
      <table>
        <thead>
          <tr>
            <td>&nbsp;</td>
            <td>any</td>
            <td>include</td>
            <td>exclude</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Attacks</td>
            <td>
              <input type="radio" name="attacks">
            </td>
            <td>
              <input type="radio" name="attacks">
            </td>
            <td>
              <input type="radio" name="attacks">
            </td>
          </tr>
          <tr>
            <td>Cursers</td>
            <td>
              <input type="radio" name="cursers">
            </td>
            <td>
              <input type="radio" name="cursers">
            </td>
            <td>
              <input type="radio" name="cursers">
            </td>
          </tr>
          <tr>
            <td>Hand Size Attacks</td>
            <td>
              <input type="radio" name="handsize">
            </td>
            <td>
              <input type="radio" name="handsize">
            </td>
            <td>
              <input type="radio" name="handsize">
            </td>
          </tr>
          <tr>
            <td>Trashers</td>
            <td>
              <input type="radio" name="trashers">
            </td>
            <td>
              <input type="radio" name="trashers">
            </td>
            <td>
              <input type="radio" name="trashers">
            </td>
          </tr>
          <tr>
            <td>Alt VP</td>
            <td>
              <input type="radio" name="altvp">
            </td>
            <td>
              <input type="radio" name="altvp">
            </td>
            <td>
              <input type="radio" name="altvp">
            </td>
          </tr>
          <tr>
            <td>Treasures</td>
            <td>
              <input type="radio" name="treasures">
            </td>
            <td>
              <input type="radio" name="treasures">
            </td>
            <td>
              <input type="radio" name="treasures">
            </td>
          </tr>
          <tr>
            <td>Durations</td>
            <td>
              <input type="radio" name="durations">
            </td>
            <td>
              <input type="radio" name="durations">
            </td>
            <td>
              <input type="radio" name="durations">
            </td>
          </tr>
          <tr>
            <td>Trash for Benefits</td>
            <td>
              <input type="radio" name="tfb">
            </td>
            <td>
              <input type="radio" name="tfb">
            </td>
            <td>
              <input type="radio" name="tfb">
            </td>
          </tr>
          <tr>
            <td>Graverobber/Rogue</td>
            <td>
              <input type="radio" name="rogue">
            </td>
            <td>
              <input type="radio" name="rogue">
            </td>
            <td>
              <input type="radio" name="rogue">
            </td>
          </tr>
          <tr>
            <td>Coin Gainers</td>
            <td>
              <input type="radio" name="coingainers">
            </td>
            <td>
              <input type="radio" name="coingainers">
            </td>
            <td>
              <input type="radio" name="coingainers">
            </td>
          </tr>
          <tr>
            <td>Reserves</td>
            <td>
              <input type="radio" name="reserves">
            </td>
            <td>
              <input type="radio" name="reserves">
            </td>
            <td>
              <input type="radio" name="reserves">
            </td>
          </tr>
        </tbody>
      </table>
      <div>
        <button onclick="radioReset()" class="btn btn-primary">Reset</button>
        <button onclick="radioRecommend()" class="btn btn-primary">Recommended</button>
      </div>
    </div>
    <p id="testpar">asdf</p>
    <p>TODO: add strong set rules, these should force radio boxes to "exclude" in some cases and disable other options. Choosing to exclude attacks should automatically exclude cursers and handsize attacks.</p>
    <!-- coin gainers, reserve-->
    <style>
      html {
        font-family: cambria;
        font-size: 16px;
      }
      
      body {
        font-size: 16px;
      }
      
      button {
        padding: 4px;
        margin-left:10%;
      }
      
      .custom-radio {
        width: 40px;
        height: 16px;
        display: inline-block;
        position: relative;
        z-index: 1;
        background: url("../images/radio.png") no-repeat;
      }
      .custom-radio:hover {
        background: url("../images/radio-hover.png") no-repeat;
      }
      .custom-radio.selected {
        background: url("../images/radio-selected.png") no-repeat;
      }
      .custom-radio input[type="radio"] {
        position: absolute;
        z-index: 2;
        opacity: 0;
        width: 40px;
        margin: 0;
        height: 16px;
        cursor: pointer;
      }
      
      .container {
        border: 1px solid black;
        display: inline-block;
        vertical-align: top;
      }
      .container > div:not(.quad) > div {
        display: inline-block;
        width: 48%;
      }
      table {
        width: 60%;
        border-spacing: 2px;
        border-collapse: initial;
      }
      table, table td {
        border: 0px solid black;
      }
      table td:not(:first-child) {
        width: 15%;
      }
      thead td:not(:first-child) {
        background-color: #a4f0fc;
      }
      tbody tr:nth-child(2n) {
        background-color: #c0c0c0;
      }
      tbody tr:nth-child(2n+1) {
        background-color: #dddddd;
      }
      
    </style>
    <hr>
    <p>Written using <span>Jade</span></p>
    <script type="text/javascript"></script>
    <script type="text/javascript">
      /* ***************************
      // customize radio buttons
      *************************** */
      function customRadio(radioName) {
        var radioButton = $('input[name="' + radioName + '"]');
        $(radioButton).each(function() {
          $(this).wrap("<span class='custom-radio'></span>");
          if($(this).is(':checked')) {
            $(this).parent().addClass("selected");
          }
        });
        $(radioButton).click(function() {
          if($(this).is(':checked')) {
            $(this).parent().addClass("selected");
          }
          $(radioButton).not(this).each(function() {
            $(this).parent().removeClass("selected");
          });
        });
      } // end customRadio()
      
      /* ***************************
      // doc ready
      *************************** */
      $(document).ready(function() {
        $("input:checkbox[id!='base']").each(function() {
          $(this).removeAttr('checked');
        });
        $("input:checkbox[id='base']").prop('checked','true');
        $("td:nth-child(2) > input:radio").prop('checked','true');
      
        customRadio("attacks");
        customRadio("cursers");
        customRadio("handsize");
        customRadio("trashers");
        customRadio("altvp");
        customRadio("treasures");
        customRadio("durations");
        customRadio("tfb");
        customRadio("rogue");
        customRadio("coingainers");
        customRadio("reserves");
      }); // end doc.ready
      
      /* ***************************
      // reset radio buttons
      *************************** */
      function radioReset() {
        $("td:nth-child(2) > span").addClass("selected");
        $("td:nth-child(3) > span").removeClass("selected");
        $("td:nth-child(4) > span").removeClass("selected");
        $("td:nth-child(2) input:radio").prop('checked','true');
      }
      
      /* ***************************
      // recommended set
      *************************** */
      function radioRecommend() {
        radioReset();
        var pattern = [0, 2, 2, 2, 3, 3, 3, 2, 2, 2, 2, 2];
        for (var i = 1; i <= 11; i++) { // loop through each row
          $("tr:nth-child("+i+") > td:nth-child("+pattern[i]+") > span").addClass("selected");
          if (pattern[i] != 2)
            $("tr:nth-child("+i+") > td:nth-child(2) > span").removeClass("selected");
          $("tr:nth-child("+i+") > td:nth-child("+pattern[i]+") input:radio").prop('checked','true');
        }
      
      
      }
      
      /* ***************************
      // turn on/off all checkboxes
      *************************** */
      $("#toggle").change(function() {
        if ($(this).prop('checked')) {
          $("input:checkbox[name='set']").each(function() {
            $(this).prop('checked','true');
          });
          $("#testpar").text("checked");
        }
        else {
          $("input:checkbox[name='set']").each(function() {
            $(this).removeAttr('checked');
          });
          $("#testpar").text("not checked");
        }
      });
      
      /* ***************************
      // turn on/off the toggle box
      *************************** */
      $("input:checkbox[name='set']").change(function() {
        if (!$(this).prop('checked')) { // this one is unchecked so uncheck toggle
          $("#toggle").removeAttr('checked');
        }
        else { // this one is checked; determine if all are checked
          var allChecked = true;  // assume all are checked, try to find an unchecked
          $("input:checkbox[name='set']").each(function() {
            if (!$(this).prop('checked')) {
              allChecked = false;
            }
          });
          if (allChecked) {
            $("#toggle").prop('checked','true');
          }
        } // end else
      
      });
      
      
    </script>
  </body>
</html>