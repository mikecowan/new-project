<html>
<head>
<title>BLB</title>
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
</head>

<body>

<nav class="">
<div class=""><a href="">home</a></div><div class=""><a href="">my teams</a></div><div class=""><a href="">create team</a></div><div class=""><a href="">standings</a></div><div class=""><a href="">rules</a></div><div class=""><a href="">logout</a></div><div><b>You owe <span style="color: red;">$20</span> for X team(s) | Your entry fees are <span style="color: green;">paid</span></b></div>
</nav>

<div id="contentDiv" class="border">
	<h1>Welcome to BLB</h1>
	<p>Team creation will be disabled as soon as the tournament begins.</p>
	<p>Team deletion will be disabled as soon as the tournament begins.</p>
	<p>All funds must be received by X for any team to be considered.</p>
</div>

<div>
	<h2>My Teams</h2>

	<table class="table myTeamTable">
		<thead>
			<tr>
				<th colspan="8">Take Ben's Money</th>
			</tr>
			<tr>
				<th>Player</th>
				<th>Round of 64</th>
				<th>Round of 32</th>
				<th>Sweet 16</th>
				<th>Elite 8</th>
				<th>Final 4</th>
				<th>Championship</th>
				<th>Total</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>player name</td>
				<td>1</td>
				<td>2</td>
				<td>3</td>
				<td>4</td>
				<td>5</td>
				<td>6</td>
				<td>21</td>
			</tr>
			<tr>
				<td>player name</td>
				<td>1</td>
				<td>2</td>
				<td>3</td>
				<td>4</td>
				<td>5</td>
				<td>6</td>
				<td>21</td>
			</tr>
			<tr>
				<td>player name</td>
				<td>1</td>
				<td>2</td>
				<td>3</td>
				<td>4</td>
				<td>5</td>
				<td>6</td>
				<td>21</td>
			</tr>
			<tr>
				<td>player name</td>
				<td>1</td>
				<td>2</td>
				<td>3</td>
				<td>4</td>
				<td>5</td>
				<td>6</td>
				<td>21</td>
			</tr>
			<tr>
				<td>player name</td>
				<td>1</td>
				<td>2</td>
				<td>3</td>
				<td>4</td>
				<td>5</td>
				<td>6</td>
				<td>21</td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<th>Total</th>
				<th>5</th>
				<th>10</th>
				<th>15</th>
				<th>20</th>
				<th>25</th>
				<th>30</th>
				<th>105</th>
			</tr>
		</tfoot>
	</table>

</div>

<div>
	<h2>Players</h2>

	<h3>Filters</h3>
	<div id="filtersDiv">
		<div>
			<h4>Rank</h4>
			<ul>
				<li><input type="checkbox" id="cb1" checked><label for="cb1"> One</label></li>
				<li><input type="checkbox" id="cb2" checked><label for="cb2"> Two</label></li>
				<li><input type="checkbox" id="cb3" checked><label for="cb3"> Three</label></li>
				<li><input type="checkbox" id="cb4" checked><label for="cb4"> Four</label></li>
				<li><input type="checkbox" id="cb5" checked><label for="cb5"> Five</label></li>
			</ul>
		</div><div>
			<h4>Region</h4>
			<ul>
				<li><input type="checkbox" id="cbregion1" checked><label for="cbregion1"> R1</label></li>
				<li><input type="checkbox" id="cbregion2" checked><label for="cbregion2"> R2</label></li>
				<li><input type="checkbox" id="cbregion3" checked><label for="cbregion3"> R3</label></li>
				<li><input type="checkbox" id="cbregion4" checked><label for="cbregion4"> R4</label></li>
			</ul>
		</div><div>
			<h4>PPG</h4>
			<p>Minimum:</p>
			<input type="text" id="ppgmin" size="5" maxlength="4" value="0">
		</div><div>
			<h4>Seed</h4>
			<p>Maximum:</p>
			<select size="5" style="width: 75px;">
				<option>1</option>
				<option>2</option>
				<option>3</option>
				<option>4</option>
				<option>5</option>
				<option>6</option>
				<option>7</option>
				<option>8</option>
				<option>9</option>
				<option>10</option>
				<option>11</option>
				<option>12</option>
				<option>13</option>
				<option>14</option>
				<option>15</option>
				<option selected>16</option>
			</select>
		</div><div>
			<h4>School</h4>
			<p>Include (ctrl + click):</p>
			<select size="5" multiple style="width: 125px;">
				<option selected>Kansas</option>
				<option selected>Kentucky</option>
				<option selected>Baylor</option>
				<option selected>Texas A&M</option>
				<option selected>Oklahoma</option>
				<option selected>South Carolina</option>
				<option selected>Nebraska</option>
			</select>
		</div><div>
			<h4>Conference</h4>
			<p>Include (ctrl + click):</p>
			<select size="5" multiple style="width: 125px;">
				<option selected>Big 12</option>
				<option selected>ACC</option>
				<option selected>Big Ten</option>
				<option selected>SEC</option>
				<option selected>Big East</option>
				<option selected>Pac 12</option>
				<option selected>MVC</option>
				<option selected>American</option>
				<option selected>A 10</option>
			</select>
		</div><div style="vertical-align:bottom;">
			<button>Apply</button>
			<button>Reset</button>
		</div>
	</div>

	<br />

	<div id="playersDiv">
		<table id="playersTable" class="table">
		<thead>
			<tr>
				<th><span data-sort="default">Rank</span></th>
				<th><span data-sort="default">Player</span></th>
				<th><span data-sort="default">PPG</span></th>
				<th><span data-sort="default">School</span></th>
				<th><span data-sort="default">Region</span></th>
				<th><span data-sort="default">Seed</span></th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td data-sort-value="3">3</td>
				<td data-sort-value="Bob Jones">Bob Jones</td>
				<td data-sort-value="1.1">1.1</td>
				<td data-sort-value="Kentucky">Kentucky</td>
				<td data-sort-value=""></td>
				<td data-sort-value=""></td>
				<td><a href="">Add</a></td>
			</tr>
			<tr>
				<td data-sort-value="4">4</td>
				<td data-sort-value="Tyler H">Tyler H</td>
				<td data-sort-value="2.4">2.4</td>
				<td data-sort-value="UNC">UNC</td>
				<td data-sort-value=""></td>
				<td data-sort-value=""></td>
				<td><a href="">Add</a></td>
			</tr>
			<tr>
				<td data-sort-value="3">3</td>
				<td data-sort-value="Kelly Oubre">Kelly Oubre</td>
				<td data-sort-value="4.4">4.4</td>
				<td data-sort-value="Kansas">Kansas</td>
				<td data-sort-value=""></td>
				<td data-sort-value=""></td>
				<td><a href="">Add</a></td>
			</tr>
			<tr>
				<td data-sort-value="2">2</td>
				<td data-sort-value="Ned Stark">Ned Stark</td>
				<td data-sort-value="10">10</td>
				<td data-sort-value="Alaska">Alaska</td>
				<td data-sort-value=""></td>
				<td data-sort-value=""></td>
				<td><a href="">Add</a></td>
			</tr>
		</tbody>
		</table><table id="tempTeamTable" class="table">
			<thead>
				<tr>
					<th>Player</th>
					<th>Rank</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
			</tbody>
			<tfoot>
				<tr>
					<th>Name: <input type="text" id="newTeamName" size="10" maxlength="50"></th>
					<th><button id="addTeamButton">Add Team</button></th>
				</tr>
			</tfoot>
		</table>
	</div>
</div>

<div>
	<h2>Standings</h2>

	<table id="standingsTable" class="table">
		<thead>
			<tr>
				<th>Points</th>
				<th>Player</th>
				<th>Team</th>
				<th colspan="5">Roster</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>100</td>
				<td>Cowan, Mike</td>
				<td>Take Ben's Money</td>
				<td>p1</td>
				<td>p2</td>
				<td>p3</td>
				<td>p4</td>
				<td>p5</td>
			</tr>
			<tr>
				<td>100</td>
				<td>Cowan, Mike</td>
				<td>Take Ben's Money</td>
				<td>p1</td>
				<td>p2</td>
				<td>p3</td>
				<td>p4</td>
				<td>p5</td>
			</tr>
			<tr>
				<td>100</td>
				<td>Cowan, Mike</td>
				<td>Take Ben's Money</td>
				<td>p1</td>
				<td>p2</td>
				<td>p3</td>
				<td>p4</td>
				<td>p5</td>
			</tr>
			<tr>
				<td>100</td>
				<td>Cowan, Mike</td>
				<td>Take Ben's Money</td>
				<td>p1</td>
				<td>p2</td>
				<td>p3</td>
				<td>p4</td>
				<td>p5</td>
			</tr>
			<tr>
				<td>100</td>
				<td>Cowan, Mike</td>
				<td>Take Ben's Money</td>
				<td>p1</td>
				<td>p2</td>
				<td>p3</td>
				<td>p4</td>
				<td>p5</td>
			</tr>
		</tbody>
	</table>

</div>

<div>
	<h2>Rules</h2>
	<ul>
		<li>Participants create teams consisting of five players.</li>
		<li>Players can be from any school, and players on the same team may be from the same or different schools.</li>
		<li>Each player is assigned a rank 1 - 5. The sum of the ranks on any given team may not exceed 10.</li>
		<li>Each round, a team scores points when its players score points. When a school is eliminated from the tournament, players from that school will no longer contribute points to any team.</li>
		<li>Entry fee is $10 per team, or $40 for five teams.</li>
		<li>100% of the prize money will be paid out to participants with the top 3 teams at the end of the tournament as 60% - 30% - 10%.</li>
	</ul>
</div>

</body>

<script>
$("a").click(function(e) {
	e.preventDefault();
});

$(document).on("click", "#playersTable span", function() {
	var tbody = $("#playersTable tbody");
	var colIndex = $(this).parent().index();
	var colNumber = colIndex + 1;
	var sortVal = $(this).attr('data-sort');

	sortVal = sortVal == "desc" ? "asc" : "desc";
	$(this).attr('data-sort', sortVal);nextRowValue

	var rowTotal = $("#playersTable tbody tr").length;

	if (sortVal == "desc") {
		for (var i = 0; i < rowTotal - 1; i++) {
			for (var j = 1; j < rowTotal - i; j++) {
				var currentRowValue = tbody.find('tr:nth-child(' + j + ') td:nth-child(' + colNumber + ')').attr('data-sort-value');
				var nextRowValue = tbody.find('tr:nth-child(' + (j+1) + ') td:nth-child(' + colNumber + ')').attr('data-sort-value');

				currentRowValue = colNumber == 3 ? parseFloat(currentRowValue) : currentRowValue;
				nextRowValue = colNumber == 3 ? parseFloat(nextRowValue) : nextRowValue;

				if (currentRowValue < nextRowValue) {
					swapTableRows('playersTable', j, j+1);
				}
			}
		}
	}
	else {
		for (var i = 0; i < rowTotal - 1; i++) {
			for (var j = 1; j < rowTotal - i; j++) {
				var currentRowValue = tbody.find('tr:nth-child(' + j + ') td:nth-child(' + colNumber + ')').attr('data-sort-value');
				var nextRowValue = tbody.find('tr:nth-child(' + (j+1) + ') td:nth-child(' + colNumber + ')').attr('data-sort-value');

				currentRowValue = colNumber == 3 ? parseFloat(currentRowValue) : currentRowValue;
				nextRowValue = colNumber == 3 ? parseFloat(nextRowValue) : nextRowValue;

				if (currentRowValue > nextRowValue) {
					swapTableRows('playersTable', j, j+1);
				}
			}
		}
	}

	//$("#datasort").text("hi");

	//$("#datasort").text(tbody.find('tr:nth-child(1) td:nth-child(' + colNumber + ')').attr('data-sort-value'));
});

function swapTableRows(tableID, r1, r2) {
	var temp = $('#' + tableID + ' tbody tr:nth-child(' + r1 + ')').html();
	$('#' + tableID + ' tbody tr:nth-child(' + r1 + ')').html($('#' + tableID + ' tbody tr:nth-child(' + r2 + ')').html());
	$('#' + tableID + ' tbody tr:nth-child(' + r2 + ')').html(temp);
}
</script>

<style>
body {
	font-family: calibri;
}
nav div {
	display: inline-block;
	margin: 0 .5em;
	padding: .5em .6em;
	min-width: 5%;
	text-align: center;
}

.border {
	border: 1px solid black;
}

.table {
	width: 70%;
}

.table th {
	text-align: left;
	background-color: #444;
	color: #fff;
}

.myTeamTable thead tr:first-child th {
	text-align: center;
}

.myTeamTable thead th:first-child {
	width: 30%;
}

#playersTable {
	margin-right: 10px;
}
#playersTable th:first-child, #playersTable th:nth-child(3) {
	width: 10%;
}

#playersTable th:nth-child(2) {
	width: 20%;
}

#playersTable span {
	cursor: pointer;
}

#standingsTable th:last-child {
	width: 60%;
	text-align: center;
}

#playersDiv table {
	display: inline-block;
}

#tempTeamTable {
	width: 20%;
}

.table tbody tr:nth-child(even) {
	background-color: #ffffff;
}

.table tbody tr:nth-child(odd) {
	background-color: #ededed;
}

#filtersDiv > div {
	display: inline-block;
	vertical-align: top;
	margin: 0 20px;
}

#filtersDiv label {
	cursor: pointer;
}

#filtersDiv ul {
	list-style: none;
	padding-left: 0;
}

h4 {
	margin-bottom: 0;
}
</style>

</html>

<!--
Notes: 
* trim whitespace from team name and check for "" equality
* don't care if multiple teams have the same name ... not checking
* last column in tempTeamTable is for player removal
* tempTeamTable submit buttom should check that rankSum < 11 before ajax call
* team submission should redirect (new partial view) indicating that the team has successfully been added.
	e.g. "Success! Your team [teamname] has been added. Check [link: my teams] to see your new team"
* home screen should indicate amount person owes and whether or not they have paid
* add the ability to delete a team, which will be removed as soon as games start
* team creation should be disabled as soon as games start also
* highlight all of the user's teams in the standings menu
* Add condition to show "you have no teams"
* remove ability to add/delete teams when user has paid
* ambitious additions:
	hide teams that are mathematically eliminated from prize money contention
	color-coding for "dominance" for any team click
-->